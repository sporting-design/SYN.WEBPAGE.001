<!doctype html>
<html
  class="no-js{% if request.design_mode %} shopify-design-mode{% endif %}"
  lang="{{ request.locale.iso_code }}"
>
  <head>
    <!-- Open Graph Meta Tags for Link Previews -->
<meta property="og:title" content="Synapex – Kinesiology Tape for Athletes" />
<meta property="og:description" content="Built for performance. Synapex kinesiology tape is engineered for elite athletes who demand durability, adhesion, and recovery support." />
<meta property="og:image" content="https://cdn.shopify.com/s/files/1/0937/9050/3223/files/synapex-front-hero-img.png?v=1749829779" />
<meta property="og:url" content="https://synapex.com/" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Synapex – Kinesiology Tape for Athletes" />
<meta name="twitter:description" content="Built for performance. Synapex kinesiology tape is engineered for elite athletes who demand durability, adhesion, and recovery support." />
<meta name="twitter:image" content="https://cdn.shopify.com/s/files/1/0937/9050/3223/files/synapex-front-hero-img.png?v=1749829779" />


 {%- render 'ecom_header' -%}
    {{ 'base.css' | asset_url | stylesheet_tag }}

    {%- if settings.favicon != blank -%}
      <link
        rel="icon"
        type="image/png"
        href="{{ settings.favicon | image_url: width: 32, height: 32 }}"
      >
    {%- endif -%}

    {% comment %} This a way to wait for main content to load when navigating to a new page so that the view transitions can work consistently {% endcomment %}
    <link
      rel="expect"
      href="#MainContent"
      blocking="render"
      id="view-transition-render-blocker"
    >

    {%- render 'meta-tags' -%}
    {%- render 'fonts' -%}
    {%- render 'scripts' -%}
    {%- render 'theme-styles-variables' -%}
    {%- render 'color-schemes' -%}

    {% if request.design_mode %}
      {%- render 'theme-editor' -%}
    {% endif %}

    {{ content_for_header }}
  </head>

  <body class="page-width-{{ settings.page_width }} card-hover-effect-{{ settings.card_hover_effect }}">
    {% render 'skip-to-content-link', href: '#MainContent', text: 'accessibility.skip_to_text' %}
    <div id="header-group">
      {% sections 'header-group' %}
    </div>

    <main
      id="MainContent"
      class="content-for-layout"
      role="main"
      data-page-transition-enabled="{{ settings.page_transition_enabled }}"
      data-product-transition="{{ settings.transition_to_main_product }}"
      data-template="{{ template }}"
    >
      {{ content_for_layout }}
    </main>

    {% sections 'footer-group' %}

    {% render 'search-modal' %}

    {% # theme-check-disable ParserBlockingScript %}
    <script src="{{ 'critical.js' | asset_url }}"></script>
    {% # theme-check-enable ParserBlockingScript %}

    {% if settings.quick_add or settings.mobile_quick_add %}
      {% render 'quick-add-modal' %}
    {% endif %}

  {% if sections.header.settings.pev_link != blank %}
  {%- comment -%}
  ════════════════════════════════════════════════════════════════
  PERSISTENT ENGAGEMENT VECTOR (PEV)
  Global floating CTA - Annihilated on product pages
  Command interface: Header section settings
  Resilience Protocol: Only renders if link is set in Header
  ════════════════════════════════════════════════════════════════
  {%- endcomment -%}
  <a href="{{ sections.header.settings.pev_link }}" id="synapex-pev" class="synapex-pev {% if template.name == 'product' %}pev-hidden{% endif %}">
    <span class="pev-icon">≠</span>
    <span class="pev-text">SHOP THE STANDARD</span>
  </a>

  <style>
    /* ════════════════════════════════════════
       PERSISTENT ENGAGEMENT VECTOR - BASE
       ════════════════════════════════════════ */
    .synapex-pev {
      /* POSITIONING: Fixed to viewport, bottom center */
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 999;

      /* VISUAL ARCHITECTURE: SOVEREIGN STATE - Universal Visibility */
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem 1rem;
      background-color: #FFFFFF;
      color: #000000;
      border: 2px solid #000000;
      border-radius: 50px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      text-decoration: none;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      white-space: nowrap;

      /* BEHAVIORAL PROTOCOL: Smooth cinematic transitions */
      transition: opacity 0.3s ease-in-out,
                  transform 0.3s ease-out,
                  background-color 0.3s ease-out,
                  color 0.3s ease-out,
                  border-color 0.3s ease-out,
                  box-shadow 0.3s ease-out,
                  bottom 0.3s ease-out;
      
      /* DEFAULT STATE: Visible */
      opacity: 1;
      pointer-events: auto;
    }

    /* ICON: The Synapex ≠ symbol */
    .pev-icon {
      font-size: 1rem;
      line-height: 1;
      opacity: 1;
    }

    /* TEXT: Command payload */
    .pev-text {
      line-height: 1;
    }

    /* HOVER STATE: THE INVERSION - Tactile dominance */
    .synapex-pev:hover {
      background-color: #000000;
      color: #FFFFFF;
      border-color: #FFFFFF;
      transform: translateX(-50%) translateY(-4px);
      box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
    }

    /* ACTIVE STATE: Press feedback with maintained inversion */
    .synapex-pev:active {
      background-color: #000000;
      color: #FFFFFF;
      border-color: #FFFFFF;
      transform: translateX(-50%) translateY(-1px);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
    }

    /* ════════════════════════════════════════
       ANNIHILATION PROTOCOL
       Product page exception - PEV inert
       ════════════════════════════════════════ */
    .pev-hidden {
      opacity: 0 !important;
      pointer-events: none !important;
      bottom: -100px !important;
    }

    /* ════════════════════════════════════════
       RESPONSIVE ADJUSTMENTS
       ════════════════════════════════════════ */
    @media (max-width: 768px) {
      .synapex-pev {
        bottom: 16px;
        padding: 0.4375rem 0.875rem;
        font-size: 0.6875rem;
      }

      .pev-icon {
        font-size: 0.875rem;
      }
    }

    @media (max-width: 480px) {
      .synapex-pev {
        bottom: 12px;
        padding: 0.375rem 0.75rem;
        font-size: 0.625rem;
        gap: 0.375rem;
      }

      .pev-icon {
        font-size: 0.75rem;
      }
    }

    /* ════════════════════════════════════════
       ACCESSIBILITY
       ════════════════════════════════════════ */
    @media (prefers-reduced-motion: reduce) {
      .synapex-pev {
        transition: none;
      }
    }

    /* Focus state for keyboard navigation */
    .synapex-pev:focus-visible {
      outline: 2px solid #FFFFFF;
      outline-offset: 4px;
    }
  </style>

  <script>
    // ════════════════════════════════════════════════════════════════
    // PERSISTENT ENGAGEMENT VECTOR - BEHAVIORAL INTELLIGENCE
    // Dynamic annihilation protocol with scroll awareness
    // ════════════════════════════════════════════════════════════════
    (function() {
      'use strict';
      
      const pev = document.getElementById('synapex-pev');
      
      if (!pev) return;

      // Scroll-aware behavior: Hide when scrolled to bottom (near footer)
      let lastScrollY = window.scrollY;
      let ticking = false;

      function updatePEVVisibility() {
        const scrollY = window.scrollY;
        const windowHeight = window.innerHeight;
        const documentHeight = document.documentElement.scrollHeight;
        const scrolledToBottom = (scrollY + windowHeight) >= (documentHeight - 100);

        // Hide PEV when near footer to prevent overlap
        if (scrolledToBottom && !pev.classList.contains('pev-hidden')) {
          pev.style.opacity = '0';
          pev.style.pointerEvents = 'none';
        } else if (!scrolledToBottom && !pev.classList.contains('pev-hidden')) {
          pev.style.opacity = '1';
          pev.style.pointerEvents = 'auto';
        }

        ticking = false;
      }

      function requestTick() {
        if (!ticking) {
          window.requestAnimationFrame(updatePEVVisibility);
          ticking = true;
        }
      }

      // Initialize scroll listener
      window.addEventListener('scroll', requestTick, { passive: true });

      // Initialize on page load
      updatePEVVisibility();

      // Track engagement
      pev.addEventListener('click', function() {
        if (window.dataLayer) {
          window.dataLayer.push({
            'event': 'pev_engagement',
            'pev_location': '{{ template.name }}',
            'pev_text': 'SHOP THE STANDARD'
          });
        }
      });
    })();
  </script>
  {% endif %}

  {%- render "ecom_footer"-%}</body>
</html>
